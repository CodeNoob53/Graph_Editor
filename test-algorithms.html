<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤ –≥—Ä–∞—Ñ—ñ–≤</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background: #f5f5f5;
    }
    h1 {
      color: #333;
      border-bottom: 3px solid #4CAF50;
      padding-bottom: 10px;
    }
    .test-section {
      background: white;
      margin: 20px 0;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .test-section h2 {
      color: #4CAF50;
      margin-top: 0;
    }
    .test-result {
      margin: 10px 0;
      padding: 15px;
      border-radius: 4px;
      font-family: monospace;
      white-space: pre-wrap;
    }
    .success {
      background: #d4edda;
      border-left: 4px solid #28a745;
      color: #155724;
    }
    .error {
      background: #f8d7da;
      border-left: 4px solid #dc3545;
      color: #721c24;
    }
    .info {
      background: #d1ecf1;
      border-left: 4px solid #17a2b8;
      color: #0c5460;
    }
    button {
      background: #4CAF50;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
      margin: 5px;
      font-size: 14px;
    }
    button:hover {
      background: #45a049;
    }
    .test-controls {
      margin: 20px 0;
      padding: 15px;
      background: #fff3cd;
      border-radius: 4px;
    }
    #cy {
      width: 100%;
      height: 400px;
      border: 2px solid #ddd;
      border-radius: 4px;
      margin: 10px 0;
    }
  </style>
  <script src="https://unpkg.com/cytoscape@3.26.0/dist/cytoscape.min.js"></script>
</head>
<body>
  <h1>üß™ –ö–æ–º–ø–ª–µ–∫—Å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤ –≥—Ä–∞—Ñ—ñ–≤</h1>

  <div class="test-controls">
    <h3>–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–µ—Å—Ç–∞–º–∏</h3>
    <button onclick="runAllTests()">‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å—ñ —Ç–µ—Å—Ç–∏</button>
    <button onclick="clearResults()">üóë –û—á–∏—Å—Ç–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏</button>
  </div>

  <div id="cy"></div>
  <div id="results"></div>

  <script type="module">
    import { findEulerTrailAndCircuit } from './src/algorithms/euler.js';
    import { findMinWeightedPathForFourVertices } from './src/algorithms/minWeightedPath.js';
    import { findHamiltonianCycles, findOneHamiltonianCycle } from './src/algorithms/hamiltonian.js';
    import { calculatePrimMST } from './src/algorithms/mst.js';
    import { generateAllSpanningTrees, isSpanningTree } from './src/algorithms/spanningTrees.js';
    import { findShortestPath } from './src/algorithms/shortestPath.js';
    import {
      depthFirstSearch,
      depthFirstSearchIterative,
      breadthFirstSearch,
      checkConnectivity,
      detectCycle
    } from './src/algorithms/traversal.js';

    // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Cytoscape
    const cy = cytoscape({
      container: document.getElementById('cy'),
      style: [
        {
          selector: 'node',
          style: {
            'background-color': '#4CAF50',
            'label': 'data(id)',
            'color': '#000',
            'text-valign': 'center',
            'text-halign': 'center',
            'width': 40,
            'height': 40,
            'font-size': 14
          }
        },
        {
          selector: 'edge',
          style: {
            'width': 2,
            'line-color': '#999',
            'target-arrow-color': '#999',
            'target-arrow-shape': 'triangle',
            'curve-style': 'bezier',
            'label': 'data(weight)',
            'font-size': 12
          }
        },
        {
          selector: '.highlighted',
          style: {
            'background-color': '#ff6b6b',
            'line-color': '#ff6b6b',
            'target-arrow-color': '#ff6b6b',
            'width': 4
          }
        }
      ]
    });

    window.cy = cy;

    // –§—É–Ω–∫—Ü—ñ—ó –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –≥—Ä–∞—Ñ—ñ–≤
    function createSimpleGraph() {
      cy.elements().remove();
      cy.add([
        { group: 'nodes', data: { id: 'A' }, position: { x: 100, y: 100 } },
        { group: 'nodes', data: { id: 'B' }, position: { x: 200, y: 100 } },
        { group: 'nodes', data: { id: 'C' }, position: { x: 200, y: 200 } },
        { group: 'nodes', data: { id: 'D' }, position: { x: 100, y: 200 } },
        { group: 'edges', data: { source: 'A', target: 'B', weight: 1 } },
        { group: 'edges', data: { source: 'B', target: 'C', weight: 2 } },
        { group: 'edges', data: { source: 'C', target: 'D', weight: 3 } },
        { group: 'edges', data: { source: 'D', target: 'A', weight: 4 } }
      ]);
    }

    function createCompleteGraph4() {
      cy.elements().remove();
      cy.add([
        { group: 'nodes', data: { id: 'A' }, position: { x: 150, y: 50 } },
        { group: 'nodes', data: { id: 'B' }, position: { x: 250, y: 150 } },
        { group: 'nodes', data: { id: 'C' }, position: { x: 150, y: 250 } },
        { group: 'nodes', data: { id: 'D' }, position: { x: 50, y: 150 } },
        { group: 'edges', data: { source: 'A', target: 'B', weight: 1 } },
        { group: 'edges', data: { source: 'A', target: 'C', weight: 5 } },
        { group: 'edges', data: { source: 'A', target: 'D', weight: 2 } },
        { group: 'edges', data: { source: 'B', target: 'C', weight: 3 } },
        { group: 'edges', data: { source: 'B', target: 'D', weight: 6 } },
        { group: 'edges', data: { source: 'C', target: 'D', weight: 4 } }
      ]);
    }

    function createWeightedGraph() {
      cy.elements().remove();
      cy.add([
        { group: 'nodes', data: { id: 'A' }, position: { x: 100, y: 100 } },
        { group: 'nodes', data: { id: 'B' }, position: { x: 300, y: 100 } },
        { group: 'nodes', data: { id: 'C' }, position: { x: 300, y: 300 } },
        { group: 'nodes', data: { id: 'D' }, position: { x: 100, y: 300 } },
        { group: 'nodes', data: { id: 'E' }, position: { x: 200, y: 200 } },
        { group: 'edges', data: { source: 'A', target: 'B', weight: 4 } },
        { group: 'edges', data: { source: 'A', target: 'E', weight: 1 } },
        { group: 'edges', data: { source: 'B', target: 'E', weight: 2 } },
        { group: 'edges', data: { source: 'B', target: 'C', weight: 5 } },
        { group: 'edges', data: { source: 'C', target: 'E', weight: 3 } },
        { group: 'edges', data: { source: 'C', target: 'D', weight: 1 } },
        { group: 'edges', data: { source: 'D', target: 'E', weight: 6 } },
        { group: 'edges', data: { source: 'D', target: 'A', weight: 2 } }
      ]);
    }

    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≤–∏–≤–æ–¥—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
    function addResult(title, result, type = 'info') {
      const resultsDiv = document.getElementById('results');
      const section = document.createElement('div');
      section.className = 'test-section';

      const heading = document.createElement('h2');
      heading.textContent = title;
      section.appendChild(heading);

      const resultDiv = document.createElement('div');
      resultDiv.className = `test-result ${type}`;
      resultDiv.textContent = JSON.stringify(result, null, 2);
      section.appendChild(resultDiv);

      resultsDiv.appendChild(section);
    }

    // –¢–µ—Å—Ç–∏ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É
    window.testEulerCircuit = function() {
      createSimpleGraph();
      const result = findEulerTrailAndCircuit(cy, false);
      addResult('üîÑ –ï–π–ª–µ—Ä—ñ–≤ —Ü–∏–∫–ª/—à–ª—è—Ö (–Ω–µ–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∏–π)', result,
        result.success ? 'success' : 'error');
    };

    window.testShortestPath = function() {
      createWeightedGraph();
      const result = findShortestPath(cy, 'A', 'C', false);
      addResult('üõ£ –ù–∞–π–∫–æ—Ä–æ—Ç—à–∏–π —à–ª—è—Ö (–î–µ–π–∫—Å—Ç—Ä–∞): A ‚Üí C', result,
        result.success ? 'success' : 'error');
    };

    window.testMST = function() {
      createWeightedGraph();
      const result = calculatePrimMST(cy, false);
      addResult('üå≤ –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–µ –æ—Å—Ç–æ–≤–Ω–µ –¥–µ—Ä–µ–≤–æ (–ü—Ä—ñ–º)', result,
        result.success ? 'success' : 'error');
    };

    window.testMinWeightedPath = function() {
      createCompleteGraph4();
      const result = findMinWeightedPathForFourVertices(cy, false);
      addResult('üìè –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –∑–≤–∞–∂–µ–Ω–∏–π —à–ª—è—Ö (4 –≤–µ—Ä—à–∏–Ω–∏)', result,
        result.success ? 'success' : 'error');
    };

    window.testSpanningTrees = function() {
      createSimpleGraph();
      const result = generateAllSpanningTrees(cy, false);
      addResult('üå≥ –í—Å—ñ –æ—Å—Ç–æ–≤–Ω—ñ –¥–µ—Ä–µ–≤–∞', result,
        result.success ? 'success' : 'error');
    };

    window.testHamiltonianCycles = function() {
      createCompleteGraph4();
      const result = findHamiltonianCycles(cy, false);
      addResult('üîÑ –ì–∞–º—ñ–ª—å—Ç–æ–Ω–æ–≤—ñ —Ü–∏–∫–ª–∏', result,
        result.success ? 'success' : 'error');
    };

    window.testDFS = function() {
      createWeightedGraph();
      const result = depthFirstSearch(cy, 'A', false);
      addResult('üîç –ü–æ—à—É–∫ —É –≥–ª–∏–±–∏–Ω—É (DFS) –≤—ñ–¥ A', result,
        result.success ? 'success' : 'error');
    };

    window.testBFS = function() {
      createWeightedGraph();
      const result = breadthFirstSearch(cy, 'A', false);
      addResult('üîç –ü–æ—à—É–∫ —É —à–∏—Ä–∏–Ω—É (BFS) –≤—ñ–¥ A', result,
        result.success ? 'success' : 'error');
    };

    window.testConnectivity = function() {
      createWeightedGraph();
      const result = checkConnectivity(cy, false);
      addResult('üîó –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–≤\'—è–∑–Ω–æ—Å—Ç—ñ', result,
        result.success ? 'success' : 'error');
    };

    window.testDetectCycle = function() {
      createSimpleGraph();
      const result = detectCycle(cy, false);
      addResult('üîÑ –í–∏—è–≤–ª–µ–Ω–Ω—è —Ü–∏–∫–ª—ñ–≤', result,
        result.success ? 'success' : 'error');
    };

    window.runAllTests = function() {
      clearResults();

      console.log('–ó–∞–ø—É—Å–∫ –≤—Å—ñ—Ö —Ç–µ—Å—Ç—ñ–≤...');

      testEulerCircuit();
      testShortestPath();
      testMST();
      testMinWeightedPath();
      testSpanningTrees();
      testHamiltonianCycles();
      testDFS();
      testBFS();
      testConnectivity();
      testDetectCycle();

      addResult('‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è', {
        status: '–£—Å—ñ —Ç–µ—Å—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–æ',
        timestamp: new Date().toLocaleString('uk-UA')
      }, 'success');
    };

    window.clearResults = function() {
      document.getElementById('results').innerHTML = '';
    };

    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
    console.log('–¢–µ—Å—Ç–æ–≤–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –≥–æ—Ç–æ–≤–µ!');
    addResult('‚ÑπÔ∏è –°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≥–æ—Ç–æ–≤–∞', {
      message: '–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å—ñ —Ç–µ—Å—Ç–∏" –¥–ª—è –ø–æ—á–∞—Ç–∫—É —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è',
      availableTests: [
        '–ï–π–ª–µ—Ä—ñ–≤ —Ü–∏–∫–ª/—à–ª—è—Ö',
        '–ù–∞–π–∫–æ—Ä–æ—Ç—à–∏–π —à–ª—è—Ö (–î–µ–π–∫—Å—Ç—Ä–∞)',
        '–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–µ –æ—Å—Ç–æ–≤–Ω–µ –¥–µ—Ä–µ–≤–æ',
        '–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –∑–≤–∞–∂–µ–Ω–∏–π —à–ª—è—Ö (4 –≤–µ—Ä—à–∏–Ω–∏)',
        '–í—Å—ñ –æ—Å—Ç–æ–≤–Ω—ñ –¥–µ—Ä–µ–≤–∞',
        '–ì–∞–º—ñ–ª—å—Ç–æ–Ω–æ–≤—ñ —Ü–∏–∫–ª–∏',
        '–ü–æ—à—É–∫ —É –≥–ª–∏–±–∏–Ω—É (DFS)',
        '–ü–æ—à—É–∫ —É —à–∏—Ä–∏–Ω—É (BFS)',
        '–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–≤\'—è–∑–Ω–æ—Å—Ç—ñ',
        '–í–∏—è–≤–ª–µ–Ω–Ω—è —Ü–∏–∫–ª—ñ–≤'
      ]
    }, 'info');
  </script>
</body>
</html>
