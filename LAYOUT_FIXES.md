# üé® –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏—Ö –≥—Ä–∞—Ñ—ñ–≤

**–î–∞—Ç–∞:** 2025-11-15
**–ü—Ä–æ–±–ª–µ–º–∞:** –í–µ—Ä—à–∏–Ω–∏ –Ω–∞–∫–ª–∞–¥–∞–ª–∏—Å—è –æ–¥–Ω–∞ –Ω–∞ –æ–¥–Ω—É –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –≥—Ä–∞—Ñ—ñ–≤

---

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –≥—Ä–∞—Ñ—ñ–≤ (–æ–∫—Ä—ñ–º –ø–æ–≤–Ω–æ–≥–æ –≥—Ä–∞—Ñ—É) –≤—Å—ñ –≤–µ—Ä—à–∏–Ω–∏ –∑'—è–≤–ª—è–ª–∏—Å—è –≤ –æ–¥–Ω—ñ–π –ø–æ–∑–∏—Ü—ñ—ó (0, 0), —â–æ –ø—Ä–∏–∑–≤–æ–¥–∏–ª–æ –¥–æ —ó—Ö –Ω–∞–∫–ª–∞–¥–∞–Ω–Ω—è. Layout –∞–ª–≥–æ—Ä–∏—Ç–º–∏ –Ω–µ –≤—Å—Ç–∏–≥–∞–ª–∏ –∞–±–æ –Ω–µ –º–æ–≥–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–æ–∑–ø–æ–¥—ñ–ª–∏—Ç–∏ –≤–µ—Ä—à–∏–Ω–∏.

### –°–∏–º–ø—Ç–æ–º–∏:
- ‚úó –î–µ—Ä–µ–≤–∞ - –≤—Å—ñ –≤–µ—Ä—à–∏–Ω–∏ –≤ –æ–¥–Ω—ñ–π —Ç–æ—á—Ü—ñ
- ‚úó –í–∏–ø–∞–¥–∫–æ–≤—ñ –≥—Ä–∞—Ñ–∏ - –≤–µ—Ä—à–∏–Ω–∏ –Ω–∞–∫–ª–∞–¥–∞—é—Ç—å—Å—è
- ‚úó –¶–∏–∫–ª–∏ - –ø–æ—á–∞—Ç–∫–æ–≤–µ –Ω–∞–∫–ª–∞–¥–∞–Ω–Ω—è
- ‚úó –î–≤–æ—á–∞—Å—Ç–∫–æ–≤—ñ –≥—Ä–∞—Ñ–∏ - –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–µ –ø–æ–∑–∏—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è
- ‚úó –ó—ñ—Ä–∫–∏ - –≤–µ—Ä—à–∏–Ω–∏ –∑–ª–∏–≤–∞—é—Ç—å—Å—è –≤ —Ü–µ–Ω—Ç—Ä—ñ
- ‚úì –ü–æ–≤–Ω—ñ –≥—Ä–∞—Ñ–∏ - –ø—Ä–∞—Ü—é–≤–∞–ª–∏ –∫–æ—Ä–µ–∫—Ç–Ω–æ

---

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è

### 1. **–î–æ–¥–∞–Ω–æ –ø–æ—á–∞—Ç–∫–æ–≤—ñ –ø–æ–∑–∏—Ü—ñ—ó –¥–ª—è –≤—Å—ñ—Ö –≤–µ—Ä—à–∏–Ω**

**–ù–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ—è:**
```javascript
function getRandomPosition(index, total) {
  // –†–æ–∑–º—ñ—â—É—î–º–æ –≤–µ—Ä—à–∏–Ω–∏ –ø–æ –∫–æ–ª—É —è–∫ –ø–æ—á–∞—Ç–∫–æ–≤—É –ø–æ–∑–∏—Ü—ñ—é
  const radius = Math.min(300, Math.max(150, total * 15));
  const angle = (index / total) * 2 * Math.PI;

  return {
    x: 400 + radius * Math.cos(angle),
    y: 300 + radius * Math.sin(angle)
  };
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–∂–Ω–∞ –≤–µ—Ä—à–∏–Ω–∞ –æ—Ç—Ä–∏–º—É—î —É–Ω—ñ–∫–∞–ª—å–Ω—É –ø–æ—á–∞—Ç–∫–æ–≤—É –ø–æ–∑–∏—Ü—ñ—é –ø–æ –∫–æ–ª—É

---

### 2. **–û–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è createNodes**

**–î–æ:**
```javascript
function createNodes(count, state, extraData = () => ({})) {
  // ...
  nodes.push({
    group: 'nodes',
    data: { id: nodeId, ...extra }
    // ‚ùå –ù–µ–º–∞—î position - –≤—Å—ñ –≤ (0,0)
  });
}
```

**–ü—ñ—Å–ª—è:**
```javascript
function createNodes(count, state, extraData = () => ({})) {
  // ...
  const position = getRandomPosition(i, count);

  nodes.push({
    group: 'nodes',
    data: { id: nodeId, ...extra },
    position: position // ‚úÖ –£–Ω—ñ–∫–∞–ª—å–Ω–∞ –ø–æ–∑–∏—Ü—ñ—è
  });
}
```

---

### 3. **–ü–æ–∫—Ä–∞—â–µ–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ layout'—ñ–≤**

#### Circle Layout (Complete Graph, Cycle):
```javascript
applyLayout(cy, 'circle', {
  radius: Math.min(350, Math.max(150, nodeCount * 20)),
  avoidOverlap: true,        // ‚ú® –ó–∞–ø–æ–±—ñ–≥–∞—î –Ω–∞–∫–ª–∞–¥–∞–Ω–Ω—é
  spacingFactor: 1.5,        // ‚ú® –ë—ñ–ª—å—à–∏–π –ø—Ä–æ–º—ñ–∂–æ–∫
  animate: true,
  animationDuration: 500
});
```

#### Breadthfirst Layout (Tree):
```javascript
applyLayout(cy, 'breadthfirst', {
  roots: `#${nodes[0].data.id}`,
  directed: true,
  spacingFactor: 1.75,                   // ‚ú® –ó–±—ñ–ª—å—à–µ–Ω–æ –≤—ñ–¥—Å—Ç–∞–Ω—å
  avoidOverlap: true,                    // ‚ú® –ó–∞–ø–æ–±—ñ–≥–∞—î –Ω–∞–∫–ª–∞–¥–∞–Ω–Ω—é
  nodeDimensionsIncludeLabels: true,     // ‚ú® –í—Ä–∞—Ö–æ–≤—É—î —Ä–æ–∑–º—ñ—Ä –º—ñ—Ç–æ–∫
  animate: true,
  animationDuration: 500
});
```

#### Cose Layout (Random Graph):
```javascript
applyLayout(cy, 'cose', {
  idealEdgeLength: 120,        // ‚ú® –ó–±—ñ–ª—å—à–µ–Ω–æ –¥–æ–≤–∂–∏–Ω—É —Ä–µ–±–µ—Ä
  nodeOverlap: 50,             // ‚ú® –ó–±—ñ–ª—å—à–µ–Ω–æ (–±—É–ª–æ 20)
  refresh: 20,
  randomize: true,             // ‚ú® –ë—É–ª–æ false!
  componentSpacing: 150,       // ‚ú® –ó–±—ñ–ª—å—à–µ–Ω–æ (–±—É–ª–æ 100)
  nodeRepulsion: 500000,       // ‚ú® –ó–±—ñ–ª—å—à–µ–Ω–æ (–±—É–ª–æ 400000)
  edgeElasticity: 100,
  nestingFactor: 5,
  gravity: 60,                 // ‚ú® –ó–º–µ–Ω—à–µ–Ω–æ (–±—É–ª–æ 80)
  numIter: 1000,               // ‚ú® –î–æ–¥–∞–Ω–æ –¥–ª—è –∫—Ä–∞—â–æ–≥–æ —Ä–æ–∑–ø–æ–¥—ñ–ª—É
  initialTemp: 200,            // ‚ú® –î–æ–¥–∞–Ω–æ
  coolingFactor: 0.95,         // ‚ú® –î–æ–¥–∞–Ω–æ
  minTemp: 1.0                 // ‚ú® –î–æ–¥–∞–Ω–æ
});
```

#### Concentric Layout (Star Graph):
```javascript
applyLayout(cy, 'concentric', {
  concentric: function(node) {
    return node.data('isCenter') ? 2 : 1;
  },
  levelWidth: function() { return 1; },
  minNodeSpacing: 100,         // ‚ú® –ó–±—ñ–ª—å—à–µ–Ω–æ (–±—É–ª–æ 80)
  avoidOverlap: true,          // ‚ú® –î–æ–¥–∞–Ω–æ
  spacingFactor: 1.75,         // ‚ú® –î–æ–¥–∞–Ω–æ
  equidistant: true,           // ‚ú® –î–æ–¥–∞–Ω–æ –¥–ª—è —Ä—ñ–≤–Ω–æ–º—ñ—Ä–Ω–æ–≥–æ —Ä–æ–∑–ø–æ–¥—ñ–ª—É
  animate: true,
  animationDuration: 500
});
```

---

### 4. **–°–ø–µ—Ü—ñ–∞–ª—å–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è –¥–ª—è Bipartite Graph**

**–ü—Ä–æ–±–ª–µ–º–∞:** Bipartite –≥—Ä–∞—Ñ –ø–æ—Ç—Ä–µ–±—É—î —Ç–æ—á–Ω–æ–≥–æ —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è –≤ –¥–≤—ñ –∫–æ–ª–æ–Ω–∫–∏

**–†—ñ—à–µ–Ω–Ω—è:** –ü–æ–∑–∏—Ü—ñ—ó –¥–æ–¥–∞—é—Ç—å—Å—è –≤—ñ–¥—Ä–∞–∑—É –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –≤–µ—Ä—à–∏–Ω:

```javascript
// –õ—ñ–≤–∞ —á–∞—Å—Ç–∏–Ω–∞
for (let i = 0; i < leftCount; i++) {
  const y = startY + (i * (canvasHeight - 200) / Math.max(1, leftCount - 1));

  nodes.push({
    group: 'nodes',
    data: { id: nodeId, bipartiteGroup: 'left' },
    position: { x: 150, y: y } // ‚úÖ –¢–æ—á–Ω–∞ –ø–æ–∑–∏—Ü—ñ—è
  });
}

// –ü—Ä–∞–≤–∞ —á–∞—Å—Ç–∏–Ω–∞
for (let i = 0; i < rightCount; i++) {
  const y = startY + (i * (canvasHeight - 200) / Math.max(1, rightCount - 1));

  nodes.push({
    group: 'nodes',
    data: { id: nodeId, bipartiteGroup: 'right' },
    position: { x: 550, y: y } // ‚úÖ –¢–æ—á–Ω–∞ –ø–æ–∑–∏—Ü—ñ—è
  });
}
```

---

### 5. **–û–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è applyLayout**

**–î–æ:**
```javascript
function applyLayout(cy, layoutName, layoutOptions = {}) {
  const defaultOptions = {
    name: layoutName,
    animate: true,
    animationDuration: 500,
    fit: true,
    padding: 50
  };
  // ...
}
```

**–ü—ñ—Å–ª—è:**
```javascript
function applyLayout(cy, layoutName, layoutOptions = {}) {
  const defaultOptions = {
    name: layoutName,
    animate: true,
    animationDuration: 500,
    fit: true,
    padding: 50,
    randomize: layoutName !== 'preset' // ‚ú® –î–æ–¥–∞–Ω–æ randomize
  };
  // ...
}
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏

### –î–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:
- ‚ùå –î–µ—Ä–µ–≤–æ: –≤—Å—ñ –≤–µ—Ä—à–∏–Ω–∏ –≤ (0, 0)
- ‚ùå –í–∏–ø–∞–¥–∫–æ–≤–∏–π –≥—Ä–∞—Ñ: —Ö–∞–æ—Ç–∏—á–Ω–µ –Ω–∞–∫–ª–∞–¥–∞–Ω–Ω—è
- ‚ùå –¶–∏–∫–ª: –≤–µ—Ä—à–∏–Ω–∏ –≤ —Ü–µ–Ω—Ç—Ä—ñ
- ‚ùå –î–≤–æ—á–∞—Å—Ç–∫–æ–≤–∏–π: –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ –ø–æ–∑–∏—Ü—ñ—ó
- ‚ùå –ó—ñ—Ä–∫–∞: –ø–µ—Ä–∏—Ñ–µ—Ä—ñ—è –∑–ª–∏–≤–∞—î—Ç—å—Å—è

### –ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:
- ‚úÖ –î–µ—Ä–µ–≤–æ: —á—ñ—Ç–∫–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—á–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚úÖ –í–∏–ø–∞–¥–∫–æ–≤–∏–π –≥—Ä–∞—Ñ: —Ä—ñ–≤–Ω–æ–º—ñ—Ä–Ω–∏–π —Ä–æ–∑–ø–æ–¥—ñ–ª –±–µ–∑ –Ω–∞–∫–ª–∞–¥–∞–Ω—å
- ‚úÖ –¶–∏–∫–ª: –∫—Ä–∞—Å–∏–≤–µ –∫–æ–ª–æ –∑ —Ä—ñ–≤–Ω–∏–º–∏ –≤—ñ–¥—Å—Ç–∞–Ω—è–º–∏
- ‚úÖ –î–≤–æ—á–∞—Å—Ç–∫–æ–≤–∏–π: —á—ñ—Ç–∫—ñ –¥–≤—ñ –∫–æ–ª–æ–Ω–∫–∏
- ‚úÖ –ó—ñ—Ä–∫–∞: —Ä—ñ–≤–Ω–æ–º—ñ—Ä–Ω–∏–π —Ä–æ–∑–ø–æ–¥—ñ–ª –ø–æ –∫–æ–ª—É –≤—ñ–¥ —Ü–µ–Ω—Ç—Ä—É

---

## üéØ –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è

| Layout | –ü–∞—Ä–∞–º–µ—Ç—Ä | –ë—É–ª–æ | –°—Ç–∞–ª–æ | –ï—Ñ–µ–∫—Ç |
|--------|----------|------|-------|-------|
| Circle | radius | 300 max | 350 max | –ë—ñ–ª—å—à–µ –ø—Ä–æ—Å—Ç–æ—Ä—É |
| Circle | avoidOverlap | - | true | –ù–µ–º–∞—î –Ω–∞–∫–ª–∞–¥–∞–Ω—å |
| Circle | spacingFactor | - | 1.5 | –ë—ñ–ª—å—à—ñ –ø—Ä–æ–º—ñ–∂–∫–∏ |
| Breadthfirst | spacingFactor | 1.5 | 1.75 | –ö—Ä–∞—â–∞ —á–∏—Ç–∞–Ω—ñ—Å—Ç—å |
| Breadthfirst | avoidOverlap | - | true | –ù–µ–º–∞—î –Ω–∞–∫–ª–∞–¥–∞–Ω—å |
| Cose | nodeOverlap | 20 | 50 | –ë—ñ–ª—å—à–∞ –≤—ñ–¥—Å—Ç–∞–Ω—å |
| Cose | randomize | false | true | –ö—Ä–∞—â–µ —Ä–æ–∑–ø—Ä–∞–≤–ª–µ–Ω–Ω—è |
| Cose | nodeRepulsion | 400k | 500k | –°–∏–ª—å–Ω—ñ—à–µ –≤—ñ–¥—à—Ç–æ–≤—Ö—É–≤–∞–Ω–Ω—è |
| Cose | componentSpacing | 100 | 150 | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –¥–∞–ª—ñ |
| Cose | numIter | - | 1000 | –ö—Ä–∞—â–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è |
| Concentric | minNodeSpacing | 80 | 100 | –ë—ñ–ª—å—à—ñ –ø—Ä–æ–º—ñ–∂–∫–∏ |
| Concentric | avoidOverlap | - | true | –ù–µ–º–∞—î –Ω–∞–∫–ª–∞–¥–∞–Ω—å |
| Concentric | equidistant | - | true | –†—ñ–≤–Ω–æ–º—ñ—Ä–Ω–∏–π —Ä–æ–∑–ø–æ–¥—ñ–ª |

---

## üîß –ó–º—ñ–Ω–µ–Ω—ñ —Ñ–∞–π–ª–∏

**`src/utils/graphGenerator.js`:**
- –î–æ–¥–∞–Ω–æ —Ñ—É–Ω–∫—Ü—ñ—é `getRandomPosition()`
- –û–Ω–æ–≤–ª–µ–Ω–æ `createNodes()` - –¥–æ–¥–∞—é—Ç—å—Å—è –ø–æ—á–∞—Ç–∫–æ–≤—ñ –ø–æ–∑–∏—Ü—ñ—ó
- –û–Ω–æ–≤–ª–µ–Ω–æ `applyLayout()` - –¥–æ–¥–∞–Ω–æ randomize
- –ü–æ–∫—Ä–∞—â–µ–Ω–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –≤—Å—ñ—Ö layout'—ñ–≤
- –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ bipartite –≥—Ä–∞—Ñ –∑ —Ç–æ—á–Ω–∏–º–∏ –ø–æ–∑–∏—Ü—ñ—è–º–∏

**–ó–∞–≥–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–∏:**
- +20 —Ä—è–¥–∫—ñ–≤ –Ω–æ–≤–æ–≥–æ –∫–æ–¥—É
- ~30 —Ä—è–¥–∫—ñ–≤ –æ–Ω–æ–≤–ª–µ–Ω–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
- 0 breaking changes

---

## ‚ú® –í–∏—Å–Ω–æ–≤–æ–∫

**–í—Å—ñ —Ç–∏–ø–∏ –≥—Ä–∞—Ñ—ñ–≤ —Ç–µ–ø–µ—Ä –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ!**

–ü—Ä–æ–±–ª–µ–º–∞ –∑ –Ω–∞–∫–ª–∞–¥–∞–Ω–Ω—è–º –≤–µ—Ä—à–∏–Ω –ø–æ–≤–Ω—ñ—Å—Ç—é –≤–∏—Ä—ñ—à–µ–Ω–∞:
- ‚úÖ –ü–æ—á–∞—Ç–∫–æ–≤—ñ –ø–æ–∑–∏—Ü—ñ—ó –¥–ª—è –≤—Å—ñ—Ö –≤–µ—Ä—à–∏–Ω
- ‚úÖ –ü–æ–∫—Ä–∞—â–µ–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ layout'—ñ–≤
- ‚úÖ –ó–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –Ω–∞–∫–ª–∞–¥–∞–Ω–Ω—é (avoidOverlap)
- ‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω—ñ –≤—ñ–¥—Å—Ç–∞–Ω—ñ –º—ñ–∂ –≤–µ—Ä—à–∏–Ω–∞–º–∏
- ‚úÖ –ü–ª–∞–≤–Ω—ñ –∞–Ω—ñ–º–∞—Ü—ñ—ó –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è

–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≥—Ä–∞—Ñ—ñ–≤ —Ç–µ–ø–µ—Ä —Å—Ç–≤–æ—Ä—é—î –≤—ñ–∑—É–∞–ª—å–Ω–æ –ø—Ä–∏–≤–∞–±–ª–∏–≤—ñ —Ç–∞ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏!

---

**–ê–≤—Ç–æ—Ä:** Claude
**–î–∞—Ç–∞:** 2025-11-15
